<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sua Consultoria para Cartórios - Elevando o Nível</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Estilos globais e utilitários Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFDFD; /* Off-white for a clean, minimalist feel */
            color: #333333; /* Dark charcoal for main text */
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto; /* Center container */
            padding: 2.5rem;
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); /* Softer shadow */
            border: 1px solid #F0F0F0;
        }
        .section-spacing {
            margin-bottom: 4rem; /* Generous spacing between sections */
        }
        .header-landing {
            text-align: center;
            margin-bottom: 3rem;
        }
        .header-landing h1 {
            font-size: 3.5rem; /* Larger, impactful title */
            font-weight: 700;
            color: #A0522D; /* Sienna for the main title */
            line-height: 1.1;
            margin-bottom: 1rem;
        }
        .header-landing p {
            font-size: 1.3rem;
            color: #555555;
            max-width: 700px;
            margin: 0 auto;
        }
        .cta-button {
            background-color: #A0522D;
            color: white;
            padding: 1.2rem 2.5rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            letter-spacing: 0.05em;
            transition: background-color 0.2s ease-in-out, transform 0.15s ease-in-out, box-shadow 0.2s ease-in-out;
            box-shadow: 0 6px 15px rgba(160, 82, 45, 0.35);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            text-decoration: none;
        }
        .cta-button:hover {
            background-color: #8B4513;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(139, 69, 19, 0.5);
        }
        .content-block {
            display: flex;
            align-items: center;
            gap: 3rem;
            margin-bottom: 3rem;
        }
        .content-block.reverse {
            flex-direction: row-reverse;
        }
        .content-block img {
            width: 45%;
            border-radius: 16px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            object-fit: cover;
            height: 300px; /* Fixed height for consistency */
        }
        .content-block div {
            width: 55%;
        }
        .content-block h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: #333333;
            margin-bottom: 1rem;
        }
        .content-block p {
            font-size: 1.1rem;
            color: #4A4A4A;
        }
        .contact-section {
            text-align: center;
            padding-top: 3rem;
            border-top: 1px solid #E0E0E0;
        }
        .contact-section h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: #333333;
            margin-bottom: 2rem;
        }
        .contact-links {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
        }
        .contact-links a {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.2rem;
            font-weight: 500;
            color: #A0522D;
            text-decoration: none;
            transition: color 0.2s ease-in-out, transform 0.1s ease-in-out;
        }
        .contact-links a:hover {
            color: #8B4513;
            transform: translateY(-2px);
        }
        .contact-links a svg {
            width: 1.8rem;
            height: 1.8rem;
        }

        /* Styles for the Habilita Fácil tool */
        .habilita-tool-section {
            padding-top: 4rem; /* Space from the landing page content */
        }

        /* General form styles from previous version, slightly adjusted for consistency */
        .form-group label {
            font-weight: 500;
            color: #555555;
            margin-bottom: 0.6rem;
            display: block;
            font-size: 0.95rem;
        }
        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group input[type="time"],
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.9rem;
            border: 1px solid #D8D8D8;
            border-radius: 12px;
            font-size: 1rem;
            color: #333333;
            transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            background-color: #FFFFFF;
        }
        .form-group input[type="text"]:focus,
        .form-group input[type="date"]:focus,
        .form-group input[type="time"]:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #C27C4E;
            box-shadow: 0 0 0 4px rgba(194, 124, 78, 0.25);
        }
        .checkbox-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .checkbox-item input[type="checkbox"],
        .form-radio {
            margin-right: 0.75rem;
            width: 1.35rem;
            height: 1.35rem;
            border-radius: 6px;
            border: 2px solid #9a9a9a;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            cursor: pointer;
            position: relative;
            background-color: #EFEFEF;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
        .checkbox-item input[type="checkbox"]:checked,
        .form-radio:checked {
            background-color: #A0522D;
            border-color: #A0522D;
        }
        .checkbox-item input[type="checkbox"]:checked::after {
            content: '✔';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
        }
        .form-radio {
            border-radius: 50%;
        }
        .form-radio:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0.6rem;
            height: 0.6rem;
            border-radius: 50%;
            background-color: white;
        }
        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #333333;
            margin-bottom: 2rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid #E0E0E0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .sub-section-title {
            font-size: 1.35rem;
            font-weight: 600;
            color: #4A4A4A;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }
        .card-section {
            padding: 1.75rem;
            background-color: #FDFDFD;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
            border: 1px solid #F5F5F5;
            margin-bottom: 2.5rem;
        }
        .btn-primary {
            background-color: #A0522D;
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            letter-spacing: 0.03em;
            transition: background-color 0.2s ease-in-out, transform 0.15s ease-in-out, box-shadow 0.2s ease-in-out;
            box-shadow: 0 6px 15px rgba(160, 82, 45, 0.35);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }
        .btn-primary:hover {
            background-color: #8B4513;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(139, 69, 19, 0.5);
        }
        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        @media (max-width: 768px) {
            .content-block {
                flex-direction: column;
                text-align: center;
            }
            .content-block.reverse {
                flex-direction: column;
            }
            .content-block img, .content-block div {
                width: 100%;
            }
            .header-landing h1 {
                font-size: 2.5rem;
            }
            .header-landing p {
                font-size: 1rem;
            }
            .cta-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            .content-block h2 {
                font-size: 1.8rem;
            }
            .content-block p {
                font-size: 0.95rem;
            }
            .contact-links {
                flex-direction: column;
                gap: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- React and ReactDOM from CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX transformation in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script type="text/babel">
        // Helper function to format date
        const formatDate = (dateString) => {
            if (!dateString) return '';
            const [year, month, day] = dateString.split('-');
            return `${day}/${month}/${year}`;
        };

        // Ensure jsPDF is available globally
        const jsPDF = window.jspdf.jsPDF;

        // Custom Message Box Component
        const MessageBox = ({ title, message, onClose }) => {
            return (
                <div className="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
                    <div className="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
                        <p className={`text-lg font-semibold ${title.includes('Atenção') || title.includes('Erro') ? 'text-red-600' : 'text-[#A0522D]'} mb-4`}>{title}</p>
                        <p className="text-gray-700 mb-6">{message}</p>
                        <button onClick={onClose} className="btn-primary">OK</button>
                    </div>
                </div>
            );
        };

        // PDF Generation Logic (adapted for React data)
        const generatePdf = (dataToPrint, showMessageBox) => {
            const doc = new jsPDF();
            let y = 20;
            const startX = 20;
            const contentWidth = 170; // A4 width (210mm) - 2 * startX
            const cardPadding = 10;
            const cardRadius = 8; // Rounded corners for PDF cards
            const shadowOffset = 2; // Offset for shadow effect
            const shadowColor = '#E0E0E0'; // Light gray for shadow

            const pageHeight = doc.internal.pageSize.getHeight();
            const bottomMargin = 30;
            const lineHeight = 10 / 2.5 + 1.5; // Even tighter line spacing (font size / 2.5 + 1.5)

            const addText = (text, x, fontSize = 10, fontStyle = 'normal') => {
                doc.setFont("helvetica", fontStyle);
                doc.setFontSize(fontSize);
                doc.text(text, x, y);
                y += lineHeight;
            };

            const addSectionTitle = (title, currentY) => {
                doc.setFont("helvetica", "bold");
                doc.setFontSize(14);
                doc.setTextColor('#333333');
                doc.text(title, startX + cardPadding, currentY + cardPadding + 5);
            };

            // Function to draw a card background and content
            // Returns the new Y position after drawing the card
            const drawCard = (doc, currentY, title, contentLines, extraSpaceAfter = 8) => { 
                const cardY = currentY + 5; // Reduced space before the card to 5
                let currentContentY = cardY + cardPadding + 15; // Adjusted starting Y for content inside card (title height + padding)

                const titleHeight = 14 / 2.5 + 5;
                const estimatedContentHeight = contentLines.length * lineHeight;
                const cardHeight = titleHeight + estimatedContentHeight + (2 * cardPadding);

                // Check page break BEFORE drawing the card
                if (cardY + cardHeight + extraSpaceAfter >= pageHeight - bottomMargin) {
                    doc.addPage();
                    currentY = 20; // Reset Y for new page
                    currentContentY = currentY + cardPadding + 15; // Reset for new page
                }

                // Draw shadow
                doc.setFillColor(shadowColor);
                doc.roundedRect(startX + shadowOffset, currentY + shadowOffset, contentWidth, cardHeight, cardRadius, cardRadius, 'F');

                // Draw card background
                doc.setFillColor('#FDFDFD'); // Card background color
                doc.setDrawColor('#F5F5F5'); // Card border color
                doc.setLineWidth(0.5);
                doc.roundedRect(startX, currentY, contentWidth, cardHeight, cardRadius, cardRadius, 'FD'); // Fill and Draw

                // Add title inside the card
                addSectionTitle(title, currentY);

                // Add content lines inside the card
                doc.setFont("helvetica", "normal");
                doc.setFontSize(10);
                doc.setTextColor('#333333');
                contentLines.forEach(line => {
                    doc.text(line, startX + cardPadding, currentContentY);
                    currentContentY += lineHeight;
                });

                return currentY + cardHeight + extraSpaceAfter; // Return new Y position after card + spacing
            };

            // Function to draw a two-column section within a single card
            // Returns the new Y position after drawing the card
            const drawTwoColumnCard = (doc, currentY, title, leftContentLines, rightContentLines, extraSpaceAfter = 8) => { 
                const innerPadding = 10;
                const columnMargin = 5; // Space between columns
                const columnWidth = (contentWidth / 2) - columnMargin; // Width for each column

                const titleHeight = 14 / 2.5 + 5;
                const maxContentLines = Math.max(leftContentLines.length, rightContentLines.length);
                const estimatedContentHeight = maxContentLines * lineHeight;
                const cardHeight = titleHeight + estimatedContentHeight + (2 * innerPadding);

                // Check page break BEFORE drawing the card
                if (currentY + cardHeight + extraSpaceAfter >= pageHeight - bottomMargin) {
                    doc.addPage();
                    currentY = 20; // Reset Y for new page
                }

                const cardY = currentY + 5; // Reduced space before the card to 5
                let currentLeftY = cardY + innerPadding + titleHeight + 5;
                let currentRightY = cardY + innerPadding + titleHeight + 5;

                // Draw shadow
                doc.setFillColor(shadowColor);
                doc.roundedRect(startX + shadowOffset, cardY + shadowOffset, contentWidth, cardHeight, cardRadius, cardRadius, 'F');

                // Draw card background
                doc.setFillColor('#FDFDFD');
                doc.setDrawColor('#F5F5F5');
                doc.setLineWidth(0.5);
                doc.roundedRect(startX, cardY, contentWidth, cardHeight, cardRadius, cardRadius, 'FD');

                // Add title
                addSectionTitle(title, cardY);

                // Add content to columns
                doc.setFont("helvetica", "normal");
                doc.setFontSize(10);
                doc.setTextColor('#333333');

                leftContentLines.forEach(line => {
                    doc.text(line, startX + innerPadding, currentLeftY);
                    currentLeftY += lineHeight;
                });

                rightContentLines.forEach(line => {
                    doc.text(line, startX + innerPadding + columnWidth + (columnMargin * 2), currentRightY); // Adjust X for right column
                    currentRightY += lineHeight;
                });

                return cardY + cardHeight + extraSpaceAfter; // Return new Y position after card + spacing
            };


            // --- PDF Content Generation ---
            // Title for the entire document
            doc.setFont("helvetica", "bold");
            doc.setFontSize(20);
            doc.setTextColor('#333333');
            doc.text('FICHA DE PRÉ-CADASTRO DE CASAMENTO', doc.internal.pageSize.getWidth() / 2, y, { align: 'center' });
            y += 15; // Space after main title

            // Tipo de Casamento Card
            let tipoCasamentoContent = [`Tipo de Casamento: ${dataToPrint.tipoCasamento || 'Não informado'}`];
            if (dataToPrint.tipoCasamento === 'Religioso com Efeito Civil') {
                tipoCasamentoContent.push(`Local de Celebração: ${dataToPrint.localCelebracao || 'Não informado'}`);
                tipoCasamentoContent.push(`Nome da Autoridade Religiosa: ${dataToPrint.autoridadeReligiosa || 'Não informado'}`);
            }
            y = drawCard(doc, y, 'TIPO DE CASAMENTO', tipoCasamentoContent, 5); // Reduced spacing after this card

            // Dados dos Noivos (Two Columns)
            let noivo1Content = [
                `Nome: ${dataToPrint.noivo1Nome || 'Não informado'}`,
                `CPF: ${dataToPrint.noivo1CPF || 'Não informado'}`,
                `Nasc.: ${formatDate(dataToPrint.noivo1DataNascimento) || 'Não informado'}`,
                `Nac.: ${dataToPrint.noivo1Nacionalidade || 'Não informado'}`,
                `Nat.: ${dataToPrint.noivo1Naturalidade || 'Não informado'}`,
                `Est. Civil: ${dataToPrint.noivo1EstadoCivil || 'Não informado'}`,
                `Prof.: ${dataToPrint.noivo1Profissao || 'Não informado'}`,
                `Mãe: ${dataToPrint.noivo1NomeMae || 'Não informado'}`,
                `Pai: ${dataToPrint.noivo1NomePai || 'Não informado'}`,
                `End.: ${dataToPrint.noivo1Endereco || 'Não informado'}`,
                `Contato: ${dataToPrint.noivo1Contato || 'Não informado'}`
            ];
            let noivo2Content = [
                `Nome: ${dataToPrint.noivo2Nome || 'Não informado'}`,
                `CPF: ${dataToPrint.noivo2CPF || 'Não informado'}`,
                `Nasc.: ${formatDate(dataToPrint.noivo2DataNascimento) || 'Não informado'}`,
                `Nac.: ${dataToPrint.noivo2Nacionalidade || 'Não informado'}`,
                `Nat.: ${dataToPrint.noivo2Naturalidade || 'Não informado'}`,
                `Est. Civil: ${dataToPrint.noivo2EstadoCivil || 'Não informado'}`,
                `Prof.: ${dataToPrint.noivo2Profissao || 'Não informado'}`,
                `Mãe: ${dataToPrint.noivo2NomeMae || 'Não informado'}`,
                `Pai: ${dataToPrint.noivo2NomePai || 'Não informado'}`,
                `End.: ${dataToPrint.noivo2Endereco || 'Não informado'}`,
                `Contato: ${dataToPrint.noivo2Contato || 'Não informado'}`
            ];
            y = drawTwoColumnCard(doc, y, 'DADOS DOS NOIVOS', noivo1Content, noivo2Content, 5); // Reduced spacing after this card

            // Regime de Bens e Alteração de Nome Card (immediately below noivos data)
            let regimeContent = [
                `Regime de bens escolhido: ${dataToPrint.regimeBens || 'Não informado'}`,
                `Haverá alteração de nome? ${dataToPrint.alteracaoNome || 'Não informado'}`
            ];
            if (dataToPrint.alteracaoNome === 'Sim') {
                regimeContent.push(`Novo nome: ${dataToPrint.novoNome || 'Não informado'}`);
            }
            y = drawCard(doc, y, 'REGIME DE BENS E ALTERAÇÃO DE NOME', regimeContent, 8); // Reduced spacing after this card

            // Data e Horário Pretendidos Card
            let dataHorarioContent = [
                `Data pretendida para o casamento: ${formatDate(dataToPrint.dataCasamento) || 'Não informado'}`,
                `Horário pretendido: ${dataToPrint.horarioCasamento || 'Não informado'}`
            ];
            y = drawCard(doc, y, 'DATA E HORÁRIO PRETENDIDOS', dataHorarioContent, 8); // Reduced spacing after this card

            // Testemunhas Card
            let testemunhasContent = [
                `Testemunha 1: ${dataToPrint.testemunha1Nome || 'Não informado'} (CPF: ${dataToPrint.testemunha1CPF || 'Não informado'})`,
                `Testemunha 2: ${dataToPrint.testemunha2Nome || 'Não informado'} (CPF: ${dataToPrint.testemunha2CPF || 'Não informado'})`
            ];
            y = drawCard(doc, y, 'DADOS DAS TESTEMUNHAS', testemunhasContent, 15);

            // Footer - positioned at the bottom of the last content page
            doc.setFontSize(8);
            doc.setFont("helvetica", "italic");
            doc.setTextColor('#555555'); // Slightly lighter color for footer
            doc.text('Cartório de Registro Civil – Jacaraú/PB', doc.internal.pageSize.getWidth() / 2, doc.internal.pageSize.getHeight() - 10, { align: 'center' });

            doc.save(`Pre-Cadastro-Casamento.pdf`);
        };

        // Landing Page Component
        const LandingPage = ({ onAccessTool }) => {
            React.useEffect(() => {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            }, []);

            return (
                <section id="landing-page" className="container section-spacing">
                    <div className="header-landing">
                        <p className="text-xl font-medium text-[#A0522D] mb-4">Transforme seu Cartório de Registro Civil</p>
                        <h1>Sua Jornada para a Excelência Começa Aqui.</h1>
                        <p>
                            Olá! Sou [Seu Nome], especialista em consultoria para Cartórios de Registro Civil das Pessoas Naturais.
                            Se você busca otimizar processos, aprimorar o atendimento e elevar seu cartório a um novo patamar de eficiência e reconhecimento,
                            você está no lugar certo.
                        </p>
                    </div>

                    <div className="content-block">
                        <img src="https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Interior de um cartório moderno e organizado" />
                        <div>
                            <h2>Desafios Atuais? Soluções Inovadoras.</h2>
                            <p>
                                O dia a dia de um cartório é repleto de complexidades e demandas crescentes. A burocracia, a falta de padronização e a dificuldade em se adaptar às novas tecnologias podem estagnar o crescimento e a qualidade dos serviços. Minha mentoria é desenhada para identificar esses gargalos e implementar estratégias personalizadas que trarão resultados reais e duradouros.
                            </p>
                        </div>
                    </div>

                    <div className="content-block reverse">
                        <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Profissionais em reunião de consultoria" />
                        <div>
                            <h2>Por que Minha Mentoria é Essencial para o Seu Cartório?</h2>
                            <p>
                                Sem uma orientação especializada, a jornada para a excelência pode ser longa e frustrante. Minha metodologia foca em capacitar sua equipe, simplificar fluxos de trabalho e integrar soluções tecnológicas que farão seu cartório se destacar. Não se contente com o básico; <strong>sem minha mentoria, seu cartório jamais chegará ao próximo nível de eficiência e reconhecimento.</strong> Invista no futuro do seu negócio e veja a transformação acontecer!
                            </p>
                        </div>
                    </div>

                    <div className="text-center mt-12">
                        <button onClick={onAccessTool} className="cta-button">
                            <i data-lucide="arrow-right" className="w-6 h-6"></i>
                            Acessar Ferramenta Habilita Fácil
                        </button>
                    </div>

                    <div className="contact-section">
                        <h2>Fale Comigo</h2>
                        <p className="mb-6 text-lg text-gray-700">Estou pronto para ajudar seu cartório a prosperar. Entre em contato!</p>
                        <div className="contact-links">
                            <a href="https://wa.me/55XXYYYYYYYYY" target="_blank" rel="noopener noreferrer">
                                <i data-lucide="whatsapp"></i>
                                WhatsApp
                            </a>
                            <a href="https://instagram.com/seuinstagram" target="_blank" rel="noopener noreferrer">
                                <i data-lucide="instagram"></i>
                                Instagram
                            </a>
                        </div>
                    </div>
                </section>
            );
        };

        // Habilita Fácil Tool Component
        const HabilitaFacilTool = ({ onBackToLanding }) => {
            const [formData, setFormData] = React.useState({
                tipoCasamento: 'Civil',
                localCelebracao: '',
                autoridadeReligiosa: '',
                noivo1Nome: '',
                noivo1CPF: '',
                noivo1DataNascimento: '',
                noivo1Nacionalidade: '',
                noivo1Naturalidade: '',
                noivo1EstadoCivil: '',
                noivo1Profissao: '',
                noivo1NomeMae: '',
                noivo1NomePai: '',
                noivo1Endereco: '',
                noivo1Contato: '',
                noivo2Nome: '',
                noivo2CPF: '',
                noivo2DataNascimento: '',
                noivo2Nacionalidade: '',
                noivo2Naturalidade: '',
                noivo2EstadoCivil: '',
                noivo2Profissao: '',
                noivo2NomeMae: '',
                noivo2NomePai: '',
                noivo2Endereco: '',
                noivo2Contato: '',
                regimeBens: '',
                alteracaoNome: 'Não',
                novoNome: '',
                dataCasamento: '',
                horarioCasamento: '',
                testemunha1Nome: '',
                testemunha1CPF: '',
                testemunha2Nome: '',
                testemunha2CPF: '',
            });

            const [showReligiousFields, setShowReligiousFields] = React.useState(false);
            const [showNewNameField, setShowNewNameField] = React.useState(false);
            const [messageBox, setMessageBox] = React.useState(null);

            // useEffect to initialize Lucide icons after component mounts and updates
            React.useEffect(() => {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            }, []); // Empty dependency array means this runs once after initial render

            // Handle form field changes
            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                setFormData(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };

            // Handle radio button changes for marriage type
            const handleMarriageTypeChange = (e) => {
                const { value } = e.target;
                setFormData(prev => ({ ...prev, tipoCasamento: value }));
                setShowReligiousFields(value === 'Religioso com Efeito Civil');
            };

            // Handle name change selection
            const handleAlteracaoNomeChange = (e) => {
                const { value } = e.target;
                setFormData(prev => ({ ...prev, alteracaoNome: value }));
                setShowNewNameField(value === 'Sim');
                if (value === 'Não') {
                    setFormData(prev => ({ ...prev, novoNome: '' })); // Clear new name if not altering
                }
            };

            // Form submission handler
            const handleSubmit = (e) => {
                e.preventDefault();

                let requiredFields = [
                    'noivo1Nome', 'noivo1CPF', 'noivo1DataNascimento', 'noivo1Nacionalidade', 'noivo1Naturalidade', 'noivo1EstadoCivil', 'noivo1Profissao', 'noivo1NomeMae', 'noivo1Endereco', 'noivo1Contato',
                    'noivo2Nome', 'noivo2CPF', 'noivo2DataNascimento', 'noivo2Nacionalidade', 'noivo2Naturalidade', 'noivo2EstadoCivil', 'noivo2Profissao', 'noivo2NomeMae', 'noivo2Endereco', 'noivo2Contato',
                    'regimeBens', 'alteracaoNome', 'dataCasamento', 'horarioCasamento',
                    'testemunha1Nome', 'testemunha1CPF', 'testemunha2Nome', 'testemunha2CPF'
                ];

                let allFieldsFilled = true;

                if (formData.tipoCasamento === 'Religioso com Efeito Civil') {
                    requiredFields.push('localCelebracao', 'autoridadeReligiosa');
                }

                for (const field of requiredFields) {
                    const element = document.getElementById(field); // Get element by ID for validation styling
                    if (!formData[field] || String(formData[field]).trim() === '') {
                        allFieldsFilled = false;
                        if (element) element.style.borderColor = 'red';
                    } else {
                        if (element) element.style.borderColor = '#D8D8D8'; // Reset border color
                    }
                }

                if (formData.alteracaoNome === 'Sim' && (!formData.novoNome || String(formData.novoNome).trim() === '')) {
                    allFieldsFilled = false;
                    const novoNomeElement = document.getElementById('novoNome');
                    if (novoNomeElement) novoNomeElement.style.borderColor = 'red';
                } else if (formData.alteracaoNome === 'Não') {
                    const novoNomeElement = document.getElementById('novoNome');
                    if (novoNomeElement) novoNomeElement.style.borderColor = '#D8D8D8';
                }


                if (!allFieldsFilled) {
                    setMessageBox({
                        title: 'Atenção!',
                        message: 'Por favor, preencha todos os campos obrigatórios antes de gerar o PDF.'
                    });
                    return;
                }

                generatePdf(formData, setMessageBox); // Pass setMessageBox to PDF function

                // Optionally clear the form after successful submission
                setFormData({
                    tipoCasamento: 'Civil',
                    localCelebracao: '',
                    autoridadeReligiosa: '',
                    noivo1Nome: '',
                    noivo1CPF: '',
                    noivo1DataNascimento: '',
                    noivo1Nacionalidade: '',
                    noivo1Naturalidade: '',
                    noivo1EstadoCivil: '',
                    noivo1Profissao: '',
                    noivo1NomeMae: '',
                    noivo1NomePai: '',
                    noivo1Endereco: '',
                    noivo1Contato: '',
                    noivo2Nome: '',
                    noivo2CPF: '',
                    noivo2DataNascimento: '',
                    noivo2Nacionalidade: '',
                    noivo2Naturalidade: '',
                    noivo2EstadoCivil: '',
                    noivo2Profissao: '',
                    noivo2NomeMae: '',
                    noivo2NomePai: '',
                    noivo2Endereco: '',
                    noivo2Contato: '',
                    regimeBens: '',
                    alteracaoNome: 'Não',
                    novoNome: '',
                    dataCasamento: '',
                    horarioCasamento: '',
                    testemunha1Nome: '',
                    testemunha1CPF: '',
                    testemunha2Nome: '',
                    testemunha2CPF: '',
                });
                setShowReligiousFields(false);
                setShowNewNameField(false);
            };

            return (
                <section className="habilita-tool-section container">
                    <div className="text-center mb-8">
                        <button onClick={onBackToLanding} className="cta-button">
                            <i data-lucide="arrow-left" className="w-6 h-6"></i>
                            Voltar para a Consultoria
                        </button>
                    </div>
                    <header className="header">
                        <i data-lucide="heart" className="w-10 h-10 text-[#A0522D]"></i>
                        <h1>Habilita Fácil – Cadastro de Casamento</h1>
                    </header>

                    {/* CHECKLIST INTERATIVO DE DOCUMENTOS */}
                    <section className="card-section">
                        <h2 className="section-title">
                            <i data-lucide="clipboard-check" className="w-7 h-7 text-[#A0522D]"></i>
                            1. Checklist Interativo de Documentos
                        </h2>
                        <div className="space-y-3">
                            <div className="checkbox-item">
                                <input type="checkbox" id="doc1" />
                                <label htmlFor="doc1" className="text-gray-700">Identidade e CPF originais de ambos os noivos(as)</label>
                            </div>
                            <div className="checkbox-item">
                                <input type="checkbox" id="doc2" />
                                <label htmlFor="doc2" className="text-gray-700">Certidão de nascimento ou casamento com averbação de divórcio</label>
                            </div>
                            <div className="checkbox-item">
                                <input type="checkbox" id="doc3" />
                                <label htmlFor="doc3" className="text-gray-700">Comprovante de residência de ambos</label>
                            </div>
                            <div className="checkbox-item">
                                <input type="checkbox" id="doc4" />
                                <label htmlFor="doc4" className="text-gray-700">Documentos das testemunhas (nome completo e CPF)</label>
                            </div>
                            <div className="checkbox-item">
                                <input type="checkbox" id="doc5" />
                                <label htmlFor="doc5" className="text-gray-700">Pacto antenupcial (se houver regime diverso do legal)</label>
                            </div>
                        </div>
                    </section>

                    {/* FORMULÁRIO DE DADOS DO CASAL */}
                    <section className="card-section">
                        <h2 className="section-title">
                            <i data-lucide="users" className="w-7 h-7 text-[#A0522D]"></i>
                            2. Formulário de Dados do Casal
                        </h2>
                        <form onSubmit={handleSubmit} className="space-y-8">

                            {/* Tipo de Casamento */}
                            <div className="p-5 bg-gray-50 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="sub-section-title">
                                    <i data-lucide="heart" className="w-5 h-5 text-[#A0522D]"></i>
                                    Tipo de Casamento
                                </h3>
                                <div className="flex flex-col md:flex-row gap-6">
                                    <div className="flex items-center">
                                        <input type="radio" id="casamentoCivil" name="tipoCasamento" value="Civil" className="form-radio"
                                            checked={formData.tipoCasamento === 'Civil'} onChange={handleMarriageTypeChange} />
                                        <label htmlFor="casamentoCivil" className="ml-2 text-gray-700">Civil</label>
                                    </div>
                                    <div className="flex items-center">
                                        <input type="radio" id="casamentoReligioso" name="tipoCasamento" value="Religioso com Efeito Civil" className="form-radio"
                                            checked={formData.tipoCasamento === 'Religioso com Efeito Civil'} onChange={handleMarriageTypeChange} />
                                        <label htmlFor="casamentoReligioso" className="ml-2 text-gray-700">Religioso com Efeito Civil</label>
                                    </div>
                                </div>
                            </div>

                            {/* Campos Condicionais para Casamento Religioso */}
                            {showReligiousFields && (
                                <div id="camposReligioso" className="p-5 bg-gray-50 rounded-xl shadow-sm border border-gray-100">
                                    <h3 className="sub-section-title">
                                        <i data-lucide="church" className="w-5 h-5 text-[#A0522D]"></i>
                                        Detalhes da Celebração Religiosa
                                    </h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div className="form-group">
                                            <label htmlFor="localCelebracao">Local de celebração:</label>
                                            <input type="text" id="localCelebracao" name="localCelebracao" value={formData.localCelebracao} onChange={handleChange} />
                                        </div>
                                        <div className="form-group">
                                            <label htmlFor="autoridadeReligiosa">Nome da autoridade religiosa:</label>
                                            <input type="text" id="autoridadeReligiosa" name="autoridadeReligiosa" value={formData.autoridadeReligiosa} onChange={handleChange} />
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Noivo(a) 1 */}
                            <div className="p-5 bg-gray-50 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="sub-section-title">
                                    <i data-lucide="user" className="w-5 h-5 text-[#A0522D]"></i>
                                    Dados do(a) Noivo(a) 1
                                </h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div className="form-group">
                                        <label htmlFor="noivo1Nome">Nome completo:</label>
                                        <input type="text" id="noivo1Nome" name="noivo1Nome" value={formData.noivo1Nome} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1CPF">CPF:</label>
                                        <input type="text" id="noivo1CPF" name="noivo1CPF" value={formData.noivo1CPF} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1DataNascimento">Data de nascimento:</label>
                                        <input type="date" id="noivo1DataNascimento" name="noivo1DataNascimento" value={formData.noivo1DataNascimento} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1Nacionalidade">Nacionalidade:</label>
                                        <input type="text" id="noivo1Nacionalidade" name="noivo1Nacionalidade" value={formData.noivo1Nacionalidade} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1Naturalidade">Naturalidade:</label>
                                        <input type="text" id="noivo1Naturalidade" name="noivo1Naturalidade" value={formData.noivo1Naturalidade} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1EstadoCivil">Estado civil:</label>
                                        <select id="noivo1EstadoCivil" name="noivo1EstadoCivil" value={formData.noivo1EstadoCivil} onChange={handleChange} required>
                                            <option value="">Selecione</option>
                                            <option value="Solteiro(a)">Solteiro(a)</option>
                                            <option value="Divorciado(a)">Divorciado(a)</option>
                                            <option value="Viúvo(a)">Viúvo(a)</option>
                                            <option value="União Estável">União Estável</option>
                                        </select>
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1Profissao">Profissão:</label>
                                        <input type="text" id="noivo1Profissao" name="noivo1Profissao" value={formData.noivo1Profissao} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1NomeMae">Nome da mãe:</label>
                                        <input type="text" id="noivo1NomeMae" name="noivo1NomeMae" value={formData.noivo1NomeMae} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo1NomePai">Nome do pai:</label>
                                        <input type="text" id="noivo1NomePai" name="noivo1NomePai" value={formData.noivo1NomePai} onChange={handleChange} />
                                    </div>
                                    <div className="form-group md:col-span-2">
                                        <label htmlFor="noivo1Endereco">Endereço completo:</label>
                                        <input type="text" id="noivo1Endereco" name="noivo1Endereco" value={formData.noivo1Endereco} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group md:col-span-2">
                                        <label htmlFor="noivo1Contato">Contato (Telefone/Email):</label>
                                        <input type="text" id="noivo1Contato" name="noivo1Contato" value={formData.noivo1Contato} onChange={handleChange} />
                                    </div>
                                </div>
                            </div>

                            {/* Noivo(a) 2 */}
                            <div className="p-5 bg-gray-50 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="sub-section-title">
                                    <i data-lucide="user" className="w-5 h-5 text-[#A0522D]"></i>
                                    Dados do(a) Noivo(a) 2
                                </h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div className="form-group">
                                        <label htmlFor="noivo2Nome">Nome completo:</label>
                                        <input type="text" id="noivo2Nome" name="noivo2Nome" value={formData.noivo2Nome} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2CPF">CPF:</label>
                                        <input type="text" id="noivo2CPF" name="noivo2CPF" value={formData.noivo2CPF} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2DataNascimento">Data de nascimento:</label>
                                        <input type="date" id="noivo2DataNascimento" name="noivo2DataNascimento" value={formData.noivo2DataNascimento} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2Nacionalidade">Nacionalidade:</label>
                                        <input type="text" id="noivo2Nacionalidade" name="noivo2Nacionalidade" value={formData.noivo2Nacionalidade} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2Naturalidade">Naturalidade:</label>
                                        <input type="text" id="noivo2Naturalidade" name="noivo2Naturalidade" value={formData.noivo2Naturalidade} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2EstadoCivil">Estado civil:</label>
                                        <select id="noivo2EstadoCivil" name="noivo2EstadoCivil" value={formData.noivo2EstadoCivil} onChange={handleChange} required>
                                            <option value="">Selecione</option>
                                            <option value="Solteiro(a)">Solteiro(a)</option>
                                            <option value="Divorciado(a)">Divorciado(a)</option>
                                            <option value="Viúvo(a)">Viúvo(a)</option>
                                            <option value="União Estável">União Estável</option>
                                        </select>
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2Profissao">Profissão:</label>
                                        <input type="text" id="noivo2Profissao" name="noivo2Profissao" value={formData.noivo2Profissao} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2NomeMae">Nome da mãe:</label>
                                        <input type="text" id="noivo2NomeMae" name="noivo2NomeMae" value={formData.noivo2NomeMae} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="noivo2NomePai">Nome do pai:</label>
                                        <input type="text" id="noivo2NomePai" name="noivo2NomePai" value={formData.noivo2NomePai} onChange={handleChange} />
                                    </div>
                                    <div className="form-group md:col-span-2">
                                        <label htmlFor="noivo2Endereco">Endereço completo:</label>
                                        <input type="text" id="noivo2Endereco" name="noivo2Endereco" value={formData.noivo2Endereco} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group md:col-span-2">
                                        <label htmlFor="noivo2Contato">Contato (Telefone/Email):</label>
                                        <input type="text" id="noivo2Contato" name="noivo2Contato" value={formData.noivo2Contato} onChange={handleChange} />
                                    </div>
                                </div>
                            </div>

                            {/* Regime de Bens e Alteração de Nome */}
                            <div className="p-5 bg-gray-50 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="sub-section-title">
                                    <i data-lucide="wallet" className="w-5 h-5 text-[#A0522D]"></i>
                                    Regime de Bens e Alteração de Nome
                                </h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div className="form-group">
                                        <label htmlFor="regimeBens">Regime de bens escolhido:</label>
                                        <select id="regimeBens" name="regimeBens" value={formData.regimeBens} onChange={handleChange} required>
                                            <option value="">Selecione</option>
                                            <option value="Comunhão parcial">Comunhão parcial</option>
                                            <option value="Comunhão universal">Comunhão universal</option>
                                            <option value="Separação total">Separação total</option>
                                            <option value="Participação final nos aquestos">Participação final nos aquestos</option>
                                        </select>
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="alteracaoNome">Haverá alteração de nome?</label>
                                        <select id="alteracaoNome" name="alteracaoNome" value={formData.alteracaoNome} onChange={handleAlteracaoNomeChange} required>
                                            <option value="Não">Não</option>
                                            <option value="Sim">Sim</option>
                                        </select>
                                    </div>
                                    {showNewNameField && (
                                        <div className="form-group md:col-span-2">
                                            <label htmlFor="novoNome">Novo nome (se houver alteração):</label>
                                            <input type="text" id="novoNome" name="novoNome" value={formData.novoNome} onChange={handleChange} />
                                        </div>
                                    )}
                                </div>
                            </div>

                            {/* Data e Horário Pretendidos */}
                            <div className="p-5 bg-gray-50 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="sub-section-title">
                                    <i data-lucide="calendar" className="w-5 h-5 text-[#A0522D]"></i>
                                    Data e Horário Pretendidos
                                </h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div className="form-group">
                                        <label htmlFor="dataCasamento">Data pretendida para o casamento:</label>
                                        <input type="date" id="dataCasamento" name="dataCasamento" value={formData.dataCasamento} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="horarioCasamento">Horário pretendido:</label>
                                        <input type="time" id="horarioCasamento" name="horarioCasamento" value={formData.horarioCasamento} onChange={handleChange} required />
                                    </div>
                                </div>
                            </div>

                            {/* Testemunhas */}
                            <div className="p-5 bg-gray-50 rounded-xl shadow-sm border border-gray-100">
                                <h3 className="sub-section-title">
                                    <i data-lucide="users-round" className="w-5 h-5 text-[#A0522D]"></i>
                                    Dados das Testemunhas
                                </h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div className="form-group">
                                        <label htmlFor="testemunha1Nome">Nome completo Testemunha 1:</label>
                                        <input type="text" id="testemunha1Nome" name="testemunha1Nome" value={formData.testemunha1Nome} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="testemunha1CPF">CPF Testemunha 1:</label>
                                        <input type="text" id="testemunha1CPF" name="testemunha1CPF" value={formData.testemunha1CPF} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="testemunha2Nome">Nome completo Testemunha 2:</label>
                                        <input type="text" id="testemunha2Nome" name="testemunha2Nome" value={formData.testemunha2Nome} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="testemunha2CPF">CPF Testemunha 2:</label>
                                        <input type="text" id="testemunha2CPF" name="testemunha2CPF" value={formData.testemunha2CPF} onChange={handleChange} required />
                                    </div>
                                </div>
                            </div>

                            <div className="text-center mt-8">
                                <button type="submit" className="btn-primary">
                                    <i data-lucide="file-text" className="w-5 h-5"></i>
                                    Gerar PDF
                                </button>
                            </div>
                        </form>
                    </section>

                    {messageBox && (
                        <MessageBox
                            title={messageBox.title}
                            message={messageBox.message}
                            onClose={() => setMessageBox(null)}
                        />
                    )}
                </section>
            );
        };

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = React.useState('landing'); // 'landing' or 'tool'

            // Função para alternar para a ferramenta Habilita Fácil
            const handleAccessTool = () => {
                setCurrentPage('tool');
            };

            // Função para voltar para a landing page
            const handleBackToLanding = () => {
                setCurrentPage('landing');
            };

            // Effect to initialize Lucide icons after component mounts and updates
            React.useEffect(() => {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                    console.log("Lucide icons initialized in React App.");
                }
            }, [currentPage]); // Re-initialize when page changes

            return (
                <div className="min-h-screen flex flex-col items-center justify-center py-8">
                    {currentPage === 'landing' ? (
                        <LandingPage onAccessTool={handleAccessTool} />
                    ) : (
                        <HabilitaFacilTool onBackToLanding={handleBackToLanding} />
                    )}
                </div>
            );
        };

        // Render the App component into the root div
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);

    </script>
</body>
</html>
